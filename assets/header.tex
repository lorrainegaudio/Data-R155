% header.tex
\usepackage{graphicx}
\usepackage{titling}
\usepackage{fancyhdr}
\usepackage{fontspec}   % For loading fonts
\usepackage{xcolor}     % For color definitions
\usepackage{mdframed}
\usepackage{tocloft}    % For customizing the TOC

% Define the Boise State Blue color
\definecolor{boisestateblue}{HTML}{0033A0}

% Load Gotham fonts
\newfontface\gothamblack{Gotham-Black.otf}[Path=./Document_fonts/]
\newfontface\gothambold{Gotham-Bold_0.otf}[Path=./Document_fonts/]
\newfontface\gothambolditalic{Gotham-BoldItalic.otf}[Path=./Document_fonts/]
\newfontface\gothambook{Gotham-Book.otf}[Path=./Document_fonts/]
\newfontface\gothammedium{Gotham-Medium.otf}[Path=./Document_fonts/]

% Set the document's main font to Garamond
\setmainfont{Garamond}
% Set the sans-serif font (used for headings) to Gotham Book
\setsansfont{Gotham-Book.otf}[Path=./Document_fonts/]
% Set the monospace font to Garamond
\setmonofont{Garamond}

% -----------------------------------------------------------------------------
% Style the Table of Contents using tocloft + Gotham
% -----------------------------------------------------------------------------
\renewcommand{\cfttoctitlefont}{\Huge \sffamily \bfseries \color{boisestateblue}}
\renewcommand{\cftsecfont}{\normalfont\sffamily}
\renewcommand{\cftsecpagefont}{\normalfont\sffamily}
\renewcommand{\cftsubsecfont}{\normalfont\sffamily}
\renewcommand{\cftsubsecpagefont}{\normalfont\sffamily}
\renewcommand{\cftsubsubsecfont}{\normalfont\sffamily}
\renewcommand{\cftsubsubsecpagefont}{\normalfont\sffamily}

\cftsetindents{section}{0em}{2.5em}
\cftsetindents{subsection}{1.5em}{3.5em}
\cftsetindents{subsubsection}{3em}{4.5em}

% -----------------------------------------------------------------------------
% Define the custom title page style with the logo
% -----------------------------------------------------------------------------
\fancypagestyle{titlepage}{
  \fancyhf{} % Clear all headers/footers
  \fancyfoot[C]{
    \begin{minipage}{\textwidth}
      \centering
      \vspace{-3cm}
      \includegraphics[width=0.4\textwidth]{images/boisestate-primarylogo-1color-orange-rgb.png}
    \end{minipage}
  }
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
}

% -----------------------------------------------------------------------------
% Custom maketitle: No page number on cover
% -----------------------------------------------------------------------------
\renewcommand{\maketitle}{
  \thispagestyle{titlepage}  % style with no visible page number
  \begin{center}
    \vspace*{3cm}
    {\Huge\sffamily\bfseries\color{boisestateblue}\thetitle}\\[4cm]

    \vspace*{1cm}
    {\Large\sffamily\color{boisestateblue}\theauthor}\\[0.5cm]
    {\large\sffamily\color{boisestateblue}\thedate}
  \end{center}
  \clearpage
  \thispagestyle{empty}  % also no page # on next side
  %
  % Now we start real numbering in Arabic:
  \pagenumbering{arabic}
  \setcounter{page}{1}
}

% -----------------------------------------------------------------------------
% If you redefined \tableofcontents before, remove that code. Let R Markdown do it
% and it will appear as page 1 (the first counted page).
% -----------------------------------------------------------------------------

% -----------------------------------------------------------------------------
% Customize links
% -----------------------------------------------------------------------------
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=boisestateblue,
    urlcolor=D64309,
    citecolor=green
}

% -----------------------------------------------------------------------------
% Customize chapter titles for scrreprt (optional)
% -----------------------------------------------------------------------------
\renewcommand{\chapterformat}{\thechapter.\ }

% -----------------------------------------------------------------------------
%  Guiding Questions custom styled text box using mdframed
% -----------------------------------------------------------------------------
\usepackage{mdframed}

% Define the style for the text box
\newmdenv[
    linewidth=0.5pt,              % Border thickness
    linecolor=black,              % Border color
    backgroundcolor=lightgray!20, % Light gray background
    innerleftmargin=1em,          % Padding inside the box (left)
    innerrightmargin=1em,         % Padding inside the box (right)
    innertopmargin=1em,           % Padding inside the box (top)
    innerbottommargin=1em,        % Padding inside the box (bottom)
    skipabove=1em,                % Space above the box
    skipbelow=1em,                % Space below the box
    nobreak=true                  % Prevents splitting across pages
]{customtextbox}
% -----------------------------------------------------------------------------
% Include bibliography in the TOC and number it
% -----------------------------------------------------------------------------
\AtBeginDocument{
  \renewcommand{\bibname}{References}
  \renewcommand{\refname}{References}
}
